.\" Man page generated from reStructuredText.
.
.TH "RBD-REPLAY" "8" "September 10, 2014" "dev" "Ceph"
.SH NAME
rbd-replay \- replay rados block device (RBD) workloads
.
.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
.\" .rstReportMargin pre:
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
.\" .rstReportMargin post:
..
.de UNINDENT
. RE
.\" indent \\n[an-margin]
.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
.nr rst2man-indent-level -1
.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..
.
.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
.\" .rstReportMargin pre:
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
.\" .rstReportMargin post:
..
.de UNINDENT
. RE
.\" indent \\n[an-margin]
.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
.nr rst2man-indent-level -1
.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..
.SH SYNOPSIS
.nf
\fBrbd\-replay\fP [ \fIoptions\fP ] \fIreplay_file\fP
.fi
.sp
.SH DESCRIPTION
.sp
\fBrbd\-replay\fP is a utility for replaying rados block device (RBD) workloads.
.SH OPTIONS
.INDENT 0.0
.TP
.B \-c ceph.conf, \-\-conf ceph.conf
Use ceph.conf configuration file instead of the default /etc/ceph/ceph.conf to
determine monitor addresses during startup.
.UNINDENT
.INDENT 0.0
.TP
.B \-p pool, \-\-pool pool
Interact with the given pool.  Defaults to \(aqrbd\(aq.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-latency\-multiplier
Multiplies inter\-request latencies.  Default: 1.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-read\-only
Only replay non\-destructive requests.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-map\-image rule
Add a rule to map image names in the trace to image names in the replay cluster.
A rule of image1@snap1=image2@snap2 would map snap1 of image1 to snap2 of image2.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-dump\-perf\-counters
\fBExperimental\fP
Dump performance counters to standard out before an image is closed.
Performance counters may be dumped multiple times if multiple images are closed,
or if the same image is opened and closed multiple times.
Performance counters and their meaning may change between versions.
.UNINDENT
.SH EXAMPLES
.sp
To replay workload1 as fast as possible:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
rbd\-replay \-\-latency\-multiplier=0 workload1
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
To replay workload1 but use test_image instead of prod_image:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
rbd\-replay \-\-map\-image=prod_image=test_image workload1
.ft P
.fi
.UNINDENT
.UNINDENT
.SH AVAILABILITY
.sp
\fBrbd\-replay\fP is part of Ceph, a massively scalable, open-source, distributed storage system. Please refer to
the Ceph documentation at \fI\%http://ceph.com/docs\fP for more information.
.SH SEE ALSO
.sp
\fBrbd\-replay\-prep\fP(8),
\fBrbd\fP(8)
.SH COPYRIGHT
2010-2014, Inktank Storage, Inc. and contributors. Licensed under Creative Commons BY-SA
.\" Generated by docutils manpage writer.
.
