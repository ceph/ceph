.TH "RADOSGW-ADMIN" "8" "April 29, 2013" "dev" "Ceph"
.SH NAME
radosgw-admin \- rados REST gateway user administration utility
.
.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
.\" .rstReportMargin pre:
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
.\" .rstReportMargin post:
..
.de UNINDENT
. RE
.\" indent \\n[an-margin]
.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
.nr rst2man-indent-level -1
.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..
.\" Man page generated from reStructuredText.
.
.SH SYNOPSIS
.nf
\fBradosgw\-admin\fP \fIcommand\fP [ \fIoptions\fP \fI...\fP ]
.fi
.sp
.SH DESCRIPTION
.sp
\fBradosgw\-admin\fP is a RADOS gateway user administration utility. It
allows creating and modifying users.
.SH COMMANDS
.sp
\fIcommand\fP can be one of the following options:
.INDENT 0.0
.TP
.B \fBuser create\fP
Create a new user
.TP
.B \fBuser modify\fP
Modify a user
.TP
.B \fBuser info\fP
Display information of a user, and any potentially available
subusers and keys
.TP
.B \fBuser rm\fP
Remove a user
.TP
.B \fBsubuser create\fP
Create a new subuser (primarily useful for clients using the Swift API)
.TP
.B \fBsubuser modify\fP
Modify a subuser
.TP
.B \fBsubuser rm\fP
Remove a subuser
.TP
.B \fBbucket list\fP
List all buckets
.TP
.B \fBbucket unlink\fP
Remove a bucket
.TP
.B \fBbucket rm\fP
Remove a bucket
.TP
.B \fBobject rm\fP
Remove an object
.TP
.B \fBkey create\fP
Create an access key
.TP
.B \fBkey rm\fP
Remove an access key
.TP
.B \fBpool add\fP
Add an existing pool for data placement
.TP
.B \fBpool rm\fP
Remove an existing pool from data placement set
.TP
.B \fBpools list\fP
List placement active set
.TP
.B \fBpolicy\fP
Display bucket/object policy
.TP
.B \fBlog show\fP
Show the log of a bucket (with a specified date)
.TP
.B \fBusage show\fP
Show the usage information (with optional user and date range)
.TP
.B \fBusage trim\fP
Trim usage information (with optional user and date range)
.UNINDENT
.SH OPTIONS
.INDENT 0.0
.TP
.B \-c ceph.conf, \-\-conf=ceph.conf
Use \fIceph.conf\fP configuration file instead of the default
\fB/etc/ceph/ceph.conf\fP to determine monitor addresses during
startup.
.UNINDENT
.INDENT 0.0
.TP
.B \-m monaddress[:port]
Connect to specified monitor (instead of looking through ceph.conf).
.UNINDENT
.INDENT 0.0
.TP
.B \-\-uid=uid
The radosgw user ID.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-secret=secret
The secret associated with a given key.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-display\-name=name
Configure the display name of the user.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-email=email
The e\-mail address of the user
.UNINDENT
.INDENT 0.0
.TP
.B \-\-bucket=bucket
Specify the bucket name.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-object=object
Specify the object name.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-date=yyyy\-mm\-dd
The date needed for some commands
.UNINDENT
.INDENT 0.0
.TP
.B \-\-start\-date=yyyy\-mm\-dd
The start date needed for some commands
.UNINDENT
.INDENT 0.0
.TP
.B \-\-end\-date=yyyy\-mm\-dd
The end date needed for some commands
.UNINDENT
.INDENT 0.0
.TP
.B \-\-auth\-uid=auid
The librados auid
.UNINDENT
.INDENT 0.0
.TP
.B \-\-purge\-data
Remove user data before user removal
.UNINDENT
.INDENT 0.0
.TP
.B \-\-purge\-objects
Remove all objects before bucket removal
.UNINDENT
.INDENT 0.0
.TP
.B \-\-lazy\-remove
Defer removal of object tail
.UNINDENT
.SH EXAMPLES
.sp
Generate a new user:
.sp
.nf
.ft C
$ radosgw\-admin user create \-\-display\-name="johnny rotten" \-\-uid=johnny
{ "user_id": "johnny",
  "rados_uid": 0,
  "display_name": "johnny rotten",
  "email": "",
  "suspended": 0,
  "subusers": [],
  "keys": [
        { "user": "johnny",
          "access_key": "TCICW53D9BQ2VGC46I44",
          "secret_key": "tfm9aHMI8X76L3UdgE+ZQaJag1vJQmE6HDb5Lbrz"}],
  "swift_keys": []}
.ft P
.fi
.sp
Remove a user:
.sp
.nf
.ft C
$ radosgw\-admin user rm \-\-uid=johnny
.ft P
.fi
.sp
Remove a user and all associated buckets with their contents:
.sp
.nf
.ft C
$ radosgw\-admin user rm \-\-uid=johnny \-\-purge\-data
.ft P
.fi
.sp
Remove a bucket:
.sp
.nf
.ft C
$ radosgw\-admin bucket unlink \-\-bucket=foo
.ft P
.fi
.sp
Show the logs of a bucket from April 1st, 2012:
.sp
.nf
.ft C
$ radosgw\-admin log show \-\-bucket=foo \-\-date=2012=04\-01
.ft P
.fi
.sp
Show usage information for user from March 1st to (but not including) April 1st, 2012:
.sp
.nf
.ft C
$ radosgw\-admin usage show \-\-uid=johnny \e
                \-\-start\-date=2012\-03\-01 \-\-end\-date=2012\-04\-01
.ft P
.fi
.sp
Show only summary of usage information for all users:
.sp
.nf
.ft C
$ radosgw\-admin usage show \-\-show\-log\-entries=false
.ft P
.fi
.sp
Trim usage information for user until March 1st, 2012:
.sp
.nf
.ft C
$ radosgw\-admin usage trim \-\-uid=johnny \-\-end\-date=2012\-04\-01
.ft P
.fi
.SH AVAILABILITY
.sp
\fBradosgw\-admin\fP is part of the Ceph distributed file system.  Please
refer to the Ceph documentation at \fI\%http://ceph.com/docs\fP for more
information.
.SH SEE ALSO
.sp
\fBceph\fP(8)
.SH COPYRIGHT
2010-2013, Inktank Storage, Inc. and contributors. Licensed under Creative Commons BY-SA
.\" Generated by docutils manpage writer.
.
