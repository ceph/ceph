<cd-table
  #table
  [data]="data"
  columnMode="flex"
  [columns]="columns"
  identifier="name"
  [searchableObjects]="true"
  selectionType="single"
  [status]="tableStatus"
  [maxLimit]="25"
  [autoReload]="-1"
  (setExpandedRow)="setExpandedRow($event)"
  (updateSelection)="updateSelection($event)"
>
  <cd-table-actions
    class="table-actions"
    [permission]="permission"
    [selection]="selection"
    [tableActions]="tableActions"
  >
  </cd-table-actions>

  <cd-pool-peers *cdTableDetail
                  [selection]="expandedRow"
                  [poolName]="poolName">
  </cd-pool-peers>
</cd-table>

<ng-template #healthTmpl
             let-row="data.row"
             let-value="data.value">
  <span [ngClass]="row.health_color | mirrorHealthColor">
    {{ value }}
  </span>
</ng-template>
<ng-template #localTmpl>
  <span i18n
        i18n-ngbTooltip
        ngbTooltip="Local image count"># Local
  </span>
</ng-template>
<ng-template #remoteTmpl>
  <span i18n
        i18n-ngbTooltip
        ngbTooltip="Remote image count"># Remote
  </span>
</ng-template>
<router-outlet name="modal"></router-outlet>
