<div class="col-sm-12 col-lg-6">
  <form #frm="ngForm"
        [formGroup]="userForm"
        novalidate>
    <div class="card">
      <div i18n="form title|Example: Create Pool@@formTitle"
           class="card-header">{{ action | titlecase }} {{ resource | upperFirst }}</div>

      <div class="card-body">
        <!-- Old password -->
        <div class="form-group row">
          <label class="col-form-label col-sm-3"
                 for="oldpassword">
            <ng-container i18n>Old password</ng-container>
            <span class="required"></span>
          </label>
          <div class="col-sm-9">
            <div class="input-group">
              <input class="form-control"
                     type="password"
                     placeholder="Old password..."
                     id="oldpassword"
                     formControlName="oldpassword"
                     autocomplete="off"
                     autofocus>
              <span class="input-group-append">
                <button class="btn btn-light"
                        cdPasswordButton="oldpassword">
                </button>
              </span>
            </div>
            <span class="invalid-feedback"
                  *ngIf="userForm.showError('oldpassword', frm, 'required')"
                  i18n>This field is required.</span>
            <span class="invalid-feedback"
                  *ngIf="userForm.showError('oldpassword', frm, 'notmatch')"
                  i18n>The old and new passwords must be different.</span>
          </div>
        </div>

        <!-- New password -->
        <div class="form-group row">
          <label class="col-form-label col-sm-3"
                 for="newpassword">
            <ng-container i18n>New password</ng-container>
            <cd-helper class="text-pre"
                       html="{{ requiredPasswordRulesMessage }}">
            </cd-helper>
            <span class="required"></span>
          </label>
          <div class="col-sm-9">
            <div class="input-group">
              <input class="form-control"
                     type="password"
                     placeholder="Password..."
                     id="newpassword"
                     autocomplete="new-password"
                     formControlName="newpassword">
              <span class="input-group-append">
                <button type="button"
                        class="btn btn-light"
                        cdPasswordButton="newpassword">
                </button>
              </span>
            </div>
            <div class="passwordStrengthLevel">
              <div class="{{ passwordStrengthLevel }}"
                   data-toggle="tooltip"
                   title="{{ passwordStrengthDescription }}">
              </div>
            </div>
            <span class="invalid-feedback"
                  *ngIf="userForm.showError('newpassword', frm, 'required')"
                  i18n>This field is required.</span>
            <span class="invalid-feedback"
                  *ngIf="userForm.showError('newpassword', frm, 'notmatch')"
                  i18n>The old and new passwords must be different.</span>
            <span class="invalid-feedback"
                  *ngIf="userForm.showError('newpassword', frm, 'checkPassword')"
                  i18n>Too weak</span>
          </div>
        </div>

        <!-- Confirm new password -->
        <div class="form-group row">
          <label class="col-form-label col-sm-3"
                 for="confirmnewpassword">
            <ng-container i18n>Confirm new password</ng-container>
            <span class="required"></span>
          </label>
          <div class="col-sm-9">
            <div class="input-group">
              <input class="form-control"
                     type="password"
                     autocomplete="off"
                     placeholder="Confirm new password..."
                     id="confirmnewpassword"
                     formControlName="confirmnewpassword">
              <span class="input-group-append">
                <button class="btn btn-light"
                        cdPasswordButton="confirmnewpassword">
                </button>
              </span>
            </div>
            <span class="invalid-feedback"
                  *ngIf="userForm.showError('confirmnewpassword', frm, 'required')"
                  i18n>This field is required.</span>
            <span class="invalid-feedback"
                  *ngIf="userForm.showError('confirmnewpassword', frm, 'match')"
                  i18n>Password confirmation doesn't match the new password.</span>
          </div>
        </div>
      </div>

      <div class="card-footer">
        <div class="button-group text-right">
          <cd-submit-button (submitAction)="onSubmit()"
                            [form]="userForm"
                            i18n="form action button|Example: Create Pool@@formActionButton">
            {{ action | titlecase }} {{ resource | upperFirst }}
          </cd-submit-button>
        </div>
      </div>
    </div>
  </form>
</div>
